{"filter":false,"title":"calender.mysql","tooltip":"/packages/calender.mysql","undoManager":{"mark":13,"position":13,"stack":[[{"group":"doc","deltas":[{"start":{"row":107,"column":4},"end":{"row":108,"column":0},"action":"insert","lines":["",""]},{"start":{"row":108,"column":0},"end":{"row":108,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":4},"end":{"row":109,"column":0},"action":"insert","lines":["",""]},{"start":{"row":109,"column":0},"end":{"row":109,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":109,"column":4},"end":{"row":110,"column":0},"action":"insert","lines":["",""]},{"start":{"row":110,"column":0},"end":{"row":110,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":109,"column":4},"end":{"row":120,"column":1},"action":"insert","lines":["INSERT INTO timeslot_slots (timeslot_slot_id,opening_slot_id,closing_slot_id,timeslot_id,node)  ","\tSELECT NULL","          ,min(`a`.`slot_id`) as slot_open_id\t","          ,max(`a`.`slot_id`) +1 as slot_close_id ","          ,timeslotID","          ,utl_fork_node(min(`a`.`slot_id`),max(`a`.`slot_id`))","    FROM `slots` a","    -- as where using closed:open we can not use the last row in slot table","    -- this would cause a FK key constrain we stop at the last slot in the table. ","    WHERE `a`.`slot_id` < (select max(`b`.`slot_id`) FROM `slots` b)","\tGROUP BY ceil(`a`.`slot_id`/timeslotLength);","\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":4},"end":{"row":114,"column":63},"action":"remove","lines":["      ,utl_fork_node(min(`a`.`slot_id`),max(`a`.`slot_id`))"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":3},"end":{"row":115,"column":3},"action":"remove","lines":[" ","   "]}]}],[{"group":"doc","deltas":[{"start":{"row":109,"column":93},"end":{"row":109,"column":97},"action":"remove","lines":["node"]}]}],[{"group":"doc","deltas":[{"start":{"row":109,"column":92},"end":{"row":109,"column":93},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":107,"column":4},"end":{"row":108,"column":4},"action":"remove","lines":["","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":123,"column":30},"end":{"row":123,"column":31},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":123,"column":31},"end":{"row":123,"column":32},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":123,"column":32},"end":{"row":123,"column":33},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":123,"column":33},"end":{"row":123,"column":34},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":123,"column":34},"end":{"row":123,"column":35},"action":"insert","lines":["e"]}]}]]},"ace":{"folds":[],"scrolltop":1440,"scrollleft":0,"selection":{"start":{"row":98,"column":4},"end":{"row":106,"column":6},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1421039843091,"hash":"444e690f6783fc6b7420fdff3b31689227dfa60b"}